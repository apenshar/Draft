!function(e){var o={};function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=4)}([function(e,o,t){"use strict";var n=t(1);e.exports={undo:function(e){e.undo()},redo:function(e){e.redo()},setBold:function(e){e.replaceSelection("**"+e.getSelection()+"**");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-2}),e.focus()},setItalic:function(e){e.replaceSelection("*"+e.getSelection()+"*");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-1}),e.focus()},setLineThrough:function(e){e.replaceSelection("~~"+e.getSelection()+"~~");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-2}),e.focus()},setBlockQuote:function(e){var o=e.getCursor().line;e.replaceRange("> ",{line:o,ch:0},{line:o,ch:0}),e.focus()},setUppercase:function(e){var o=e.getSelection();e.replaceSelection(o.toUpperCase()),e.focus()},setCapitalize:function(e){var o=e.getSelection();e.replaceSelection(o.substr(0,1).toUpperCase()+o.substr(1).toLowerCase()),e.focus()},setLowercase:function(e){var o=e.getSelection();e.replaceSelection(o.toLowerCase()),e.focus()},setHeader:function(e,o){var t=e.getCursor().line;switch(o){case 1:e.replaceRange("# ",{line:t,ch:0},{line:t,ch:0});break;case 2:e.replaceRange("## ",{line:t,ch:0},{line:t,ch:0});break;case 3:e.replaceRange("### ",{line:t,ch:0},{line:t,ch:0});break;case 4:e.replaceRange("#### ",{line:t,ch:0},{line:t,ch:0});break;case 5:e.replaceRange("##### ",{line:t,ch:0},{line:t,ch:0})}e.focus()},setOrderedList:function(e){e.replaceSelection("1. "+e.getSelection()),e.focus()},setUnorderedList:function(e){e.replaceSelection("- "+e.getSelection()),e.focus()},setDivider:function(e){0===e.getCursor().ch?e.replaceSelection("\n----------\n\n"):e.replaceSelection("\n\n---------\n\n"),e.focus()},setTOC:function(e){e.getCursor();e.focus()},setMdMode:function(){$("div#markdown-container").removeClass("markdown-container-premode"),$("div#preview-container").removeClass("preview-container-premode"),$("div#markdown-container").toggleClass("markdown-container-mdmode"),$("div#preview-container").toggleClass("preview-container-mdmode")},setPreMode:function(){$("div#markdown-container").removeClass("markdown-container-mdmode"),$("div#preview-container").removeClass("preview-container-mdmode"),$("div#markdown-container").toggleClass("markdown-container-premode"),$("div#preview-container").toggleClass("preview-container-premode")},setLink:function(e){e.replaceSelection("[](https://)");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-11}),e.focus()},setImage:function(e){e.replaceSelection("![]()");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-3}),e.focus()},setInlineCode:function(e){e.replaceSelection("`"+e.getSelection()+"`");var o=e.getCursor();e.setCursor({line:o.line,ch:o.ch-1}),e.focus()},setTable:function(){n.addTableModal("table-modal")},setHowto:function(){n.addHowtoModal("howto-modal")},setAbout:function(){n.addAboutModal("about-modal")},setCodeBlock:function(){n.addCodeblockModal("codeblock-modal")},setExport:function(){n.addExportModal("export-modal")},setLoad:function(){$("#md-file").trigger("click")},setOCR:function(){n.addOCRModal("ocr-modal")},setSearch:function(e){e.execCommand("find")},setGoToLine:function(e){e.execCommand("jumpToLine")},setTimestamp:function(e){var o,t,n,a,i,r;e.replaceSelection(e.getSelection()+(o=new Date,t=o.getMonth()+1,n=o.getDate(),a=o.getHours(),i=o.getMinutes(),r=o.getDay(),o.getFullYear()+"/"+(t<10?"0":"")+t+"/"+(n<10?"0":"")+n+" "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][r]+" "+(a<10?"0":"")+a+":"+(i<10?"0":"")+i)),e.focus()},setEmoji:function(){n.addEmojiModal("emoji-modal")},setEmpty:function(e){e.setValue("")},setValue:function(e,o,t){o.getValue(),0===t.getCursor().ch?t.replaceSelection("\n```"+e+"\n"+o.getValue()+"\n```\n"):t.replaceSelection("\n\n```"+e+"\n"+o.getValue()+"\n```\n")},setTableValue:function(e,o,t){var n="";if(e>=2&&o>=1)for(var a=0;a<e+1;a++){for(var i=0;i<o;i++){if(1===a){n+="| ------------ | ------------ |\n";break}n+="|   "}1!==a&&(n+="|\n")}0===t.getCursor().ch?t.replaceSelection("\n"+n+"\n"):t.replaceSelection("\n\n"+n+"\n")},selectLine:function(e){var o=e.getCursor();e.setSelection({line:o.line,ch:0},{line:o.line,ch:o.ch})}}},function(e,o,t){"use strict";var n=t(3);e.exports={addTooltip:function(){$("ul.draft-menu li:not(.divider)").each(function(e,o){var t=n.tooltipen[$(this).attr("id")];$(this).append('<span class="tooltip">'+t+"<span>")})},removeTooltip:function(){$("ul.draft-menu li:not(.divider) span").remove()},addTableModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div id="table-cnt">\n                    <span>Row:</span>  \n                    <input id="row" class="num-input" type="number" min="2" max="100" step="1">\n                    <span>Column:</span>\n                    <input class="num-input" type="number" min="1" max="100" step="1">\n                </div>\n                <div id="table-footer">\n                    <a href="#" class="enter">Enter</a>\n                    <a href="#" class="cancel">Cancel</a>\n                </div>\n            </div>\n        </div>\n        ')},addHowtoModal:function(e){$("body").append('    \n            <div id="myModal" class="modal '+e+'">\n                <div class="modal-content">\n                    <span class="close">&times;</span>\n                    <p>howto</p>\n                </div>\n            </div>\n        ')},addAboutModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <h1 class="about-h1">\n                    Draft\n                    <small>v1.0.0</small>\n                </h1>\n                <p>\n                    Online Markdown Editor.\n                </p>\n                <p class="about-link">\n                    <a href="https://github.com/oddisland/Draft" target="_blank">https://github.com/oddisland/Draft</a>\n                    <br>\n                    <a href="mailto:toby.islanddd@gmail.com?subject=[ issue ] [ description ]">Contact Me!</a>\n                </p>\n                <p class="about-info">\n                    Copyright Â© 2018\n                    <a href="https://github.com/oddisland" target="_blank">TobyLee</a>\n                    , The\n                    <a href="https://github.com/oddisland/Draft/blob/master/LICENSE" target="_blank">MIT</a>\n                    License.\n                </p>\n            </div>\n        </div>\n        ')},addEmojiModal:function(e){$("body").append('    \n            <div id="myModal" class="modal '+e+'">\n                <div class="modal-content">\n                    <span class="close">&times;</span>\n                    <p>Emoji</p>\n                </div>\n            </div>\n        ')},addCodeblockModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div id="codeblock-selectbar">\n                    <select>\n                        <option selected="selected" value="">Choose a language mode</option>\n                        <option value="asp" mode="vbscript">ASP</option>\n                        <option value="actionscript" mode="clike">ActionScript(3.0)/Flash/Flex</option>\n                        <option value="bash" mode="shell">Bash/Bat</option>\n                        <option value="css" mode="css">CSS</option>\n                        <option value="c" mode="clike">C</option>\n                        <option value="cpp" mode="clike">C++</option>\n                        <option value="csharp" mode="clike">C#</option>\n                        <option value="coffeescript" mode="coffeescript">CoffeeScript</option>\n                        <option value="d" mode="d">D</option>\n                        <option value="dart" mode="dart">Dart</option>\n                        <option value="delphi" mode="pascal">Delphi/Pascal</option>\n                        <option value="erlang" mode="erlang">Erlang</option>\n                        <option value="go" mode="go">Golang</option>\n                        <option value="groovy" mode="groovy">Groovy</option>\n                        <option value="html" mode="text/html">HTML</option>\n                        <option value="java" mode="clike">Java</option>\n                        <option value="json" mode="text/json">JSON</option>\n                        <option value="javascript" mode="javascript">Javascript</option>\n                        <option value="lua" mode="lua">Lua</option>\n                        <option value="less" mode="css">LESS</option>\n                        <option value="markdown" mode="gfm">Markdown</option>\n                        <option value="objective-c" mode="clike">Objective-C</option>\n                        <option value="php" mode="php">PHP</option>\n                        <option value="perl" mode="perl">Perl</option>\n                        <option value="python" mode="python">Python</option>\n                        <option value="r" mode="r">R</option>\n                        <option value="rst" mode="rst">reStructedText</option>\n                        <option value="ruby" mode="ruby">Ruby</option>\n                        <option value="sql" mode="sql">SQL</option>\n                        <option value="sass" mode="sass">SASS/SCSS</option>\n                        <option value="shell" mode="shell">Shell</option>\n                        <option value="scala" mode="clike">Scala</option>\n                        <option value="swift" mode="clike">Swift</option>\n                        <option value="vb" mode="vb">VB/VBScript</option>\n                        <option value="xml" mode="text/xml">XML</option>\n                        <option value="yaml" mode="yaml">YAML</option>\n                        <option value="other">other</option>\n                    </select>\n                </div>\n                <div id="codeblock-cnt">\n                    <textarea id="codeblock-textarea"></textarea>\n                </div>\n                <div id="codeblock-footer">\n                    <a href="#" class="enter">Enter</a>\n                    <a href="#" class="cancel">Cancel</a>\n                </div>\n            </div>\n        </div>\n        ')},addExportModal:function(e){$("body").append('    \n            <div id="myModal" class="modal">\n                <div class="modal-content '+e+'">\n                    <span class="close">&times;</span>\n                    <span class="export-title">Save As</span>\n                    <div class="export-cnt">\n                        <div class="export-to-md">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-markdown"></use>\n                            </svg>\n                            <span>Markdown</span>\n                        </div>\n                        <div class="export-to-html">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-text"></use>\n                            </svg>\n                            <span>HTML</span>\n                        </div>\n                        <div class="export-to-pdf">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-pdf"></use>\n                            </svg>\n                            <span>PDF</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ')},addOCRModal:function(e){$("body").append('    \n            <div id="myModal" class="modal '+e+'">\n                <div class="modal-content">\n                    <span class="close">&times;</span>\n                    <p>OCR</p>\n                </div>\n            </div>\n        ')}}},function(e,o,t){"use strict";var n=t(0);e.exports={saveFile:function(e){if(83==e.keyCode&&(e.ctrlKey||e.metaKey))return 0===$("div.export-modal").length&&n.setExport(),e.preventDefault(),e.stopPropagation(),!1},loadFile:function(e){if(79==e.keyCode&&(e.ctrlKey||e.metaKey))return n.setLoad(),e.preventDefault(),!1},mdMode:function(e,o){if(69==e.keyCode&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return n.setMdMode(),e.data.editor.focus(),e.preventDefault(),!1},preMode:function(e,o){if(80==e.keyCode&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return n.setPreMode(),e.data.editor.focus(),e.preventDefault(),!1},setBold:function(e,o){if((e.ctrlKey||e.metaKey)&&66===e.keyCode)return n.setBold(e.data.editor),e.preventDefault(),!1},setItalicAndImage:function(e,o){if(73===e.keyCode&&(e.ctrlKey||e.metaKey))return e.shiftKey?e.shiftKey&&n.setImage(e.data.editor):n.setItalic(e.data.editor),e.preventDefault(),e.stopPropagation(),!1},setLinkAndSelect:function(e,o){if((e.ctrlKey||e.metaKey)&&76===e.keyCode)return e.shiftKey?n.setLink(e.data.editor):e.shiftKey||n.selectLine(e.data.editor),e.stopPropagation(),e.preventDefault(),!1},setTable:function(e){if((e.ctrlKey||e.metaKey)&&e.shiftKey&&84===e.keyCode)return n.setTable(),e.preventDefault(),!1},insertHeading:function(e,o){return(e.ctrlKey||e.metaKey)&&49===e.keyCode?(n.setHeader(e.data.editor,1),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&50===e.keyCode?(n.setHeader(e.data.editor,2),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&51===e.keyCode?(n.setHeader(e.data.editor,3),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&52===e.keyCode?(n.setHeader(e.data.editor,4),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&53===e.keyCode?(n.setHeader(e.data.editor,5),e.preventDefault(),e.stopPropagation(),!1):void 0},quit:function(e,o){if(27==e.keyCode)return $("#myModal").css("display","none"),$("#myModal").remove(),e.data.editor.focus(),e.preventDefault(),!1}}},function(e,o,t){"use strict";e.exports={tooltipen:{undo:"undo",redo:"redo",bold:"bold",italic:"italic",linethrough:"line-through",blockquote:"block-quote",uppercase:"uppercase",capitalize:"capitalize",lowercase:"lowercase",h1:"header-1",h2:"header-2",h3:"header-3",h4:"header-4",h5:"header-5",orderedlist:"ordered-list",unorderedlist:"unordred-list",divider:"divider",toc:"toc",export:"export",search:"search",link:"link",image:"image",inlinecode:"inline-code",codeblock:"code-block",table:"table",timestamp:"timestamp",emoji:"emoji",gotoline:"goto-line",mdmode:"md-mode",premode:"pre-mode",empty:"empty",ocr:"OCR",exporttomd:"export-to-md",exporttopdf:"export-to-pdf",exporttohtml:"export-to-html",liveserver:"live-server",howto:"how-to",about:"about",load:"load"}}},function(e,o,t){"use strict";t(17),t(12),t(10),t(8),t(6);var n=t(1),a=t(2),i=t(0);$(function(){var e=CodeMirror.fromTextArea($(".codemirror-textarea")[0],{lineNumbers:!0,lineWrapping:!0,tabSize:2,styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Alt-F":"find","Alt-G":"jumpToLine","Alt-D":"replace","Shift-Alt-D":"replaceAll"},placeholder:'Enjoy Markdown!\n"They say your attitude determines your latitude. -Kanye West"',theme:"xq-light",mode:{name:"gfm",taskLists:!0,tokenTypeOverrides:{emoji:"emoji"}}}),o=null;function t(){$("#myModal").css("display","none"),$("#myModal").remove(),e.focus()}function r(e,o){var t=new Blob([e],{type:"text/plain"});if(window.saveAs)window.saveAs(t,o);else if(navigator.saveBlob)navigator.saveBlob(t,o);else{var n=URL.createObjectURL(t),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",o);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}n.addTooltip(),e.focus(),e.on("change",function(){$("#preview-container").html(marked(e.getValue())),$("pre code").each(function(e,o){hljs.highlightBlock(o)})}),e.on("blur",function(){$(".CodeMirror-cursors").css("visibility","visible")}),$("div.switch").on("click","a:not(.on)",function(){$("div.switch a.on").removeClass("on"),$(this).addClass("on"),"on"===$(this).attr("id")?n.addTooltip():"off"===$(this).attr("id")&&n.removeTooltip();e.focus()}),$("#md-file").on("change",function(){var o=new FileReader,t=document.getElementById("md-file").files[0];o.readAsText(t),o.onload=function(){e.setValue(this.result)}}),$("div.draft-toolbar").on("click","li",function(){switch($(this).attr("id")){case"undo":i.undo(e);break;case"redo":i.redo(e);break;case"bold":i.setBold(e);break;case"italic":i.setItalic(e);break;case"linethrough":i.setLineThrough(e);break;case"blockquote":i.setBlockQuote(e);break;case"uppercase":i.setUppercase(e);break;case"capitalize":i.setCapitalize(e);break;case"lowercase":i.setLowercase(e);break;case"h1":i.setHeader(e,1);break;case"h2":i.setHeader(e,2);break;case"h3":i.setHeader(e,3);break;case"h4":i.setHeader(e,4);break;case"h5":i.setHeader(e,5);break;case"orderedlist":i.setOrderedList(e);break;case"unorderedlist":i.setUnorderedList(e);break;case"inlinecode":i.setInlineCode(e);break;case"divider":i.setDivider(e);break;case"link":i.setLink(e);break;case"image":i.setImage(e);break;case"timestamp":i.setTimestamp(e);break;case"table":i.setTable();break;case"howto":i.setHowto();break;case"load":i.setLoad();break;case"about":i.setAbout();break;case"emoji":i.setEmoji();break;case"search":i.setSearch(e);break;case"gotoline":i.setGoToLine(e);break;case"codeblock":i.setCodeBlock(),(o=CodeMirror.fromTextArea(document.getElementById("codeblock-textarea"),{lineNumbers:!0,lineWrapping:!0,tabSize:2,styleActiveLine:!0,foldGutter:!0,autoCloseTags:!0,autoCloseBrackets:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:"",placeholder:"Coding now..."})).focus();break;case"export":i.setExport();break;case"ocr":i.setOCR();break;case"toc":i.setTOC(e);break;case"mdmode":i.setMdMode(),e.focus();break;case"premode":i.setPreMode(),e.focus();break;case"empty":i.setEmpty(e),e.focus()}}),$("body").on("click","span.close:first",t).on("click","a.cancel",t).on("mousedown","div.modal",function(e){var o=!0,t=e.pageX-$("div.modal").offset().left,n=e.pageY-$("div.modal").offset().top;$(document).mousemove(function(e){if(o){var a=$("div.modal");a.css({left:e.pageX-t,top:e.pageY-n,cursor:"move"})}}).mouseup(function(e){o=!1})}).on("click","div#codeblock-footer a.enter",function(){var n=$("div#codeblock-selectbar select").find("option:selected").attr("value");i.setValue(n,o,e),t()}).on("change","div#codeblock-selectbar select",function(){console.log($("div#codeblock-selectbar select").find("option:selected").attr("mode")),o.setOption("mode",$("div#codeblock-selectbar select").find("option:selected").attr("mode")),o.focus()}).on("click","div#table-footer a.enter",function(){var o=$("div#table-cnt input:eq(0)").val(),n=$("div#table-cnt input:eq(1)").val();o>=2&&n>=1&&i.setTableValue(parseInt(o),parseInt(n),e);t()}).on("click","div.export-to-md",function(){r(e.getValue(),"untitled.md"),t()}).on("click","div.export-to-html",function(){r($("div#preview-container").html(),"untitled.html"),t()}).on("click","div.export-to-pdf",function(){html2pdf().from($("div#preview-container").html()).set({margin:1,filename:"untitled.pdf","fit-to-width":!0,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,letterRendering:!1,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}).save(),t()}),$(document).on("keydown",a.saveFile).on("keydown",a.loadFile).on("keydown",a.setTable).on("keydown",{editor:e},a.mdMode).on("keydown",{editor:e},a.preMode).on("keydown",{editor:e},a.quit).on("keydown",{editor:e},a.insertHeading).on("keydown",{editor:e},a.setBold).on("keydown",{editor:e},a.setItalicAndImage).on("keydown",{editor:e},a.setLinkAndSelect)})},,function(e,o){},,function(e,o){},,function(e,o){},,function(e,o){},,,,,function(e,o){}]);