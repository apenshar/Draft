!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";var o=n(1);e.exports={undo:function(e){e.undo()},redo:function(e){e.redo()},setBold:function(e){e.replaceSelection("**"+e.getSelection()+"**");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-2}),e.focus()},setItalic:function(e){e.replaceSelection("*"+e.getSelection()+"*");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-1}),e.focus()},setLineThrough:function(e){e.replaceSelection("~~"+e.getSelection()+"~~");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-2}),e.focus()},setBlockQuote:function(e){var t=e.getCursor().line;e.replaceRange("> ",{line:t,ch:0},{line:t,ch:0}),e.focus()},setUppercase:function(e){var t=e.getSelection();e.replaceSelection(t.toUpperCase()),e.focus()},setCapitalize:function(e){var t=e.getSelection();e.replaceSelection(t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()),e.focus()},setLowercase:function(e){var t=e.getSelection();e.replaceSelection(t.toLowerCase()),e.focus()},setHeader:function(e,t){var n=e.getCursor().line;switch(t){case 1:e.replaceRange("# ",{line:n,ch:0},{line:n,ch:0});break;case 2:e.replaceRange("## ",{line:n,ch:0},{line:n,ch:0});break;case 3:e.replaceRange("### ",{line:n,ch:0},{line:n,ch:0});break;case 4:e.replaceRange("#### ",{line:n,ch:0},{line:n,ch:0});break;case 5:e.replaceRange("##### ",{line:n,ch:0},{line:n,ch:0})}e.focus()},setOrderedList:function(e){e.replaceSelection("1. "+e.getSelection()),e.focus()},setUnorderedList:function(e){e.replaceSelection("- "+e.getSelection()),e.focus()},setDivider:function(e){0===e.getCursor().ch?e.replaceSelection("\n----------\n\n"):e.replaceSelection("\n\n---------\n\n"),e.focus()},setTOC:function(e){e.getCursor();e.focus()},setMdMode:function(){$("div#markdown-container").removeClass("markdown-container-premode"),$("div#preview-container").removeClass("preview-container-premode"),$("div#markdown-container").toggleClass("markdown-container-mdmode"),$("div#preview-container").toggleClass("preview-container-mdmode")},setPreMode:function(){$("div#markdown-container").removeClass("markdown-container-mdmode"),$("div#preview-container").removeClass("preview-container-mdmode"),$("div#markdown-container").toggleClass("markdown-container-premode"),$("div#preview-container").toggleClass("preview-container-premode")},setLink:function(e){e.replaceSelection("[](https://)");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-11}),e.focus()},setImage:function(e){e.replaceSelection("![]()");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-3}),e.focus()},setInlineCode:function(e){e.replaceSelection("`"+e.getSelection()+"`");var t=e.getCursor();e.setCursor({line:t.line,ch:t.ch-1}),e.focus()},setTable:function(){o.addTableModal("table-modal")},setHowto:function(){o.addHowtoModal("howto-modal")},setAbout:function(){o.addAboutModal("about-modal")},setCodeBlock:function(){o.addCodeblockModal("codeblock-modal")},setExport:function(){o.addExportModal("export-modal")},setLoad:function(){$("#md-file").trigger("click")},setOCR:function(){o.addOCRModal("ocr-modal")},setSearch:function(e){e.execCommand("find")},setGoToLine:function(e){e.execCommand("jumpToLine")},setTimestamp:function(e){var t,n,o,a,i,l;e.replaceSelection(e.getSelection()+(t=new Date,n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),i=t.getMinutes(),l=t.getDay(),t.getFullYear()+"/"+(n<10?"0":"")+n+"/"+(o<10?"0":"")+o+" "+["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l]+" "+(a<10?"0":"")+a+":"+(i<10?"0":"")+i)),e.focus()},setEmoji:function(){o.addEmojiModal("emoji-modal")},setImglink:function(){o.addImglinkModal("imglink-modal")},setEmpty:function(e){e.setValue("")},setValue:function(e,t,n){t.getValue(),0===n.getCursor().ch?n.replaceSelection("\n```"+e+"\n"+t.getValue()+"\n```\n"):n.replaceSelection("\n\n```"+e+"\n"+t.getValue()+"\n```\n")},setTableValue:function(e,t,n){var o="";if(e>=2&&t>=1)for(var a=0;a<e+1;a++){for(var i=0;i<t;i++){if(1===a){o+="| ------------ | ------------ |\n";break}o+="|   "}1!==a&&(o+="|\n")}0===n.getCursor().ch?n.replaceSelection("\n"+o+"\n"):n.replaceSelection("\n\n"+o+"\n")},selectLine:function(e){var t=e.getCursor();e.setSelection({line:t.line,ch:0},{line:t.line,ch:t.ch})}}},function(e,t,n){"use strict";var o=n(3);e.exports={addTooltip:function(){$("ul.draft-menu li:not(.divider)").each(function(e,t){var n=o.tooltipen[$(this).attr("id")];$(this).append('<span class="tooltip">'+n+"<span>")})},removeTooltip:function(){$("ul.draft-menu li:not(.divider) span").remove()},addTableModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <div id="table-cnt">\n                    <span>Row:</span>  \n                    <input id="row" class="num-input" type="number" min="2" max="100" step="1">\n                    <span>Column:</span>\n                    <input class="num-input" type="number" min="1" max="100" step="1">\n                </div>\n                <div id="table-footer">\n                    <a href="#" class="enter">Enter</a>\n                    <a href="#" class="cancel">Cancel</a>\n                </div>\n            </div>\n        </div>\n        ')},addHowtoModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <div class="how-cnt">\n\n                    <div class="how-mdsyntax-cnt">\n                        <div class="how-title">Markdown syntax tutorial</div>\n                        <ul>\n                            <li>\n                                <a target="_blank" href="http://daringfireball.net/projects/markdown/syntax/">Markdown Syntax</a>\n                            </li>\n                            <li>\n                                <a target="_blank" href="https://guides.github.com/features/mastering-markdown/">Mastering Markdown</a>\n                            </li>\n                            <li>\n                                <a target="_blank" href="https://help.github.com/articles/getting-started-with-writing-and-formatting-on-github/">Markdown Basics</a>\n                            </li>\n                            <li>\n                                <a target="_blank" href="https://help.github.com/categories/writing-on-github/">GitHub Flavored Markdown</a>\n                            </li>\n                            <li>\n                                <a target="_blank" href="https://www.appinn.com/markdown/">Markdown语法说明 (简体中文)</a>\n                            </li>\n                        </ul>\n                    </div>\n\n                    <div class="how-keyshortcuts-cnt">\n                        <div class="how-title">Keyboard shortcuts</div>\n                        <table class="how-tb">\n                            <thead>\n                                <th>Keyboard shortcuts</th>\n                                <th>Description</th>\n                            </thead>\n                            <tbody>\n                                <tr>\n                                    <td>Esc</td>\n                                    <td>Quit</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + B / Command + B</td>\n                                    <td>Bold</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + I / Command + I</td>\n                                    <td>Italic</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + L / Command + L</td>\n                                    <td>Select current line</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + Y / Command + Y</td>\n                                    <td>Redo</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + Z / Command + Z</td>\n                                    <td>Undo</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + O / Command + O</td>\n                                    <td>Import</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + S / Command + S</td>\n                                    <td>Export</td>\n                                </tr>\n                                <tr>\n                                    <td>Ctrl + 1~5 / Command + 1~5</td>\n                                    <td>Heading 1~5</td>\n                                </tr>\n\n                                <tr>\n                                    <td>Alt + D</td>\n                                    <td>Replace</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Alt + D</td>\n                                    <td>Replace all</td>\n                                </tr>\n                                <tr>\n                                    <td>Alt + F</td>\n                                    <td>Search</td>\n                                </tr>\n                                <tr>\n                                    <td>Alt + G</td>\n                                    <td>Go to line</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Command + E</td>\n                                    <td>Markdown mode</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Command + P</td>\n                                    <td>Preview mode</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Command + L</td>\n                                    <td>Link</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Command + I</td>\n                                    <td>Image</td>\n                                </tr>\n                                <tr>\n                                    <td>Shift + Command + T</td>\n                                    <td>Table</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <div class="how-referlink-cnt">\n                        <div class="how-title">Flowchart reference</div>\n                        <p>\n                            <a target="_blank" href="http://adrai.github.io/flowchart.js/">http://adrai.github.io/flowchart.js/</a>\n                        </p>\n\n                        <div class="how-title">SequenceDiagram reference</div>\n                        <p>\n                            <a target="_blank" href="http://bramp.github.io/js-sequence-diagrams/">http://bramp.github.io/js-sequence-diagrams/</a>\n                        </p>\n\n                        <div class="how-title">TeX/LaTeX reference</div>\n                        <p>\n                            <a target="_blank" href="http://meta.wikimedia.org/wiki/Help:Formula">http://meta.wikimedia.org/wiki/Help:Formula</a>\n                        </p>\n                    </div>\n\n\n                </div>\n            </div>\n        </div>\n        ')},addAboutModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <h1 class="about-h1">\n                    Draft\n                    <small>v1.0.0</small>\n                </h1>\n                <p>\n                    Online Markdown Editor.\n                </p>\n                <p class="about-link">\n                    <a href="https://github.com/oddisland/Draft" target="_blank">https://github.com/oddisland/Draft</a>\n                    <br>\n                    <a href="mailto:toby.islanddd@gmail.com?subject=[ issue ] [ description ]">Contact Me !</a>\n                </p>\n                <p class="about-info">\n                    Copyright © 2018\n                    <a href="https://github.com/oddisland" target="_blank">TobyLee</a>\n                    , The\n                    <a href="https://github.com/oddisland/Draft/blob/master/LICENSE" target="_blank">MIT</a>\n                    License.\n                </p>\n            </div>\n        </div>\n        ')},addEmojiModal:function(e){$("body").append('    \n            <div id="myModal" class="modal '+e+'">\n                <div class="modal-content">\n                    <span class="close">&times;</span>\n                    <p>Emoji</p>\n                </div>\n            </div>\n        ')},addImglinkModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <div class="imglink-cnt">\n                    <div class="label-box">\n                        <label for="file">Browser Image ...</label>\n                    </div>\n                    <input type="file" accept="image/*" id="file" name="image">\n                    <div class="info">\n                        <img class=\'file-img\' src="#" >\n                        <p class="status">HERE IS YOUR IMGAE!</p>\n                        <p class="img-link"></p>\n                        <p class="file-info"></p>\n                    </div>\n                </div>\n                \n                <div class="imglink-footer">\n                    <div class="smms">@ SM.MS</div>\n                    <a class="upload-btn btn">Upload</a>\n                    <a class="remove-btn btn">Remove</a>\n                </div>\n            </div>\n        </div>\n        ')},addCodeblockModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <div id="codeblock-selectbar">\n                    <select>\n                        <option selected="selected" value="">Choose a language mode</option>\n                        <option value="asp" mode="vbscript">ASP</option>\n                        <option value="actionscript" mode="clike">ActionScript(3.0)/Flash/Flex</option>\n                        <option value="bash" mode="shell">Bash/Bat</option>\n                        <option value="css" mode="css">CSS</option>\n                        <option value="c" mode="clike">C</option>\n                        <option value="cpp" mode="clike">C++</option>\n                        <option value="csharp" mode="clike">C#</option>\n                        <option value="coffeescript" mode="coffeescript">CoffeeScript</option>\n                        <option value="d" mode="d">D</option>\n                        <option value="dart" mode="dart">Dart</option>\n                        <option value="delphi" mode="pascal">Delphi/Pascal</option>\n                        <option value="erlang" mode="erlang">Erlang</option>\n                        <option value="go" mode="go">Golang</option>\n                        <option value="groovy" mode="groovy">Groovy</option>\n                        <option value="html" mode="text/html">HTML</option>\n                        <option value="java" mode="clike">Java</option>\n                        <option value="json" mode="text/json">JSON</option>\n                        <option value="javascript" mode="javascript">Javascript</option>\n                        <option value="lua" mode="lua">Lua</option>\n                        <option value="less" mode="css">LESS</option>\n                        <option value="markdown" mode="gfm">Markdown</option>\n                        <option value="objective-c" mode="clike">Objective-C</option>\n                        <option value="php" mode="php">PHP</option>\n                        <option value="perl" mode="perl">Perl</option>\n                        <option value="python" mode="python">Python</option>\n                        <option value="r" mode="r">R</option>\n                        <option value="rst" mode="rst">reStructedText</option>\n                        <option value="ruby" mode="ruby">Ruby</option>\n                        <option value="sql" mode="sql">SQL</option>\n                        <option value="sass" mode="sass">SASS/SCSS</option>\n                        <option value="shell" mode="shell">Shell</option>\n                        <option value="scala" mode="clike">Scala</option>\n                        <option value="swift" mode="clike">Swift</option>\n                        <option value="vb" mode="vb">VB/VBScript</option>\n                        <option value="xml" mode="text/xml">XML</option>\n                        <option value="yaml" mode="yaml">YAML</option>\n                        <option value="other">other</option>\n                    </select>\n                </div>\n                <div id="codeblock-cnt">\n                    <textarea id="codeblock-textarea"></textarea>\n                </div>\n                <div id="codeblock-footer">\n                    <a href="#" class="enter">Enter</a>\n                    <a href="#" class="cancel">Cancel</a>\n                </div>\n            </div>\n        </div>\n        ')},addExportModal:function(e){$("body").append('    \n            <div id="myModal" class="modal">\n                <div class="modal-content '+e+'">\n                    <span class="close">&times;</span>\n                    <div class="modal-head"></div>\n                    <span class="export-title">Save As</span>\n                    <div class="export-cnt">\n                        <div class="export-to-md">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-markdown"></use>\n                            </svg>\n                            <span>Markdown</span>\n                        </div>\n                        <div class="export-to-html">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-text"></use>\n                            </svg>\n                            <span>HTML</span>\n                        </div>\n                        <div class="export-to-pdf">\n                            <svg class="export-icon" aria-hidden="true">\n                                <use xlink:href="#icon-file-pdf"></use>\n                            </svg>\n                            <span>PDF</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ')},addOCRModal:function(e){$("body").append('    \n        <div id="myModal" class="modal">\n            <div class="modal-content '+e+'">\n                <span class="close">&times;</span>\n                <div class="modal-head"></div>\n                <div class="imglink-cnt">\n                    <div class="label-box">\n                        <label for="file">Browser Image ...</label>\n                    </div>\n                    <input type="file" accept="image/*" id="file" name="image">\n                    <div class="info">\n                        <img class=\'file-img\' src="#" >\n                        <p class="status">HERE IS YOUR IMGAE!</p>\n                        <p class="ocr-info"></p>\n                    </div>\n                </div>\n                \n                <div class="imglink-footer">\n                    <div class="baidu-ocr">@ Baidu-OCR</div>\n                    <a class="ocr-btn btn">OCR</a>\n                    <a class="ocr-remove-btn btn">Remove</a>\n                </div>\n            </div>\n        </div>\n        ')}}},function(e,t,n){"use strict";var o=n(0);e.exports={saveFile:function(e){if(83==e.keyCode&&(e.ctrlKey||e.metaKey))return 0===$("div.export-modal").length&&o.setExport(),e.preventDefault(),e.stopPropagation(),!1},loadFile:function(e){if(79==e.keyCode&&(e.ctrlKey||e.metaKey))return o.setLoad(),e.preventDefault(),!1},mdMode:function(e,t){if(69==e.keyCode&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return o.setMdMode(),e.data.editor.focus(),e.preventDefault(),!1},preMode:function(e,t){if(80==e.keyCode&&(e.ctrlKey||e.metaKey)&&e.shiftKey)return o.setPreMode(),e.data.editor.focus(),e.preventDefault(),!1},setBold:function(e,t){if((e.ctrlKey||e.metaKey)&&66===e.keyCode)return o.setBold(e.data.editor),e.preventDefault(),!1},setItalicAndImage:function(e,t){if(73===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey)return e.shiftKey?e.shiftKey&&o.setImage(e.data.editor):o.setItalic(e.data.editor),e.preventDefault(),e.stopPropagation(),!1},setLinkAndSelect:function(e,t){if((e.ctrlKey||e.metaKey)&&76===e.keyCode)return e.shiftKey?o.setLink(e.data.editor):e.shiftKey||o.selectLine(e.data.editor),e.stopPropagation(),e.preventDefault(),!1},setTable:function(e){if((e.ctrlKey||e.metaKey)&&e.shiftKey&&84===e.keyCode)return o.setTable(),e.preventDefault(),!1},insertHeading:function(e,t){return(e.ctrlKey||e.metaKey)&&49===e.keyCode?(o.setHeader(e.data.editor,1),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&50===e.keyCode?(o.setHeader(e.data.editor,2),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&51===e.keyCode?(o.setHeader(e.data.editor,3),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&52===e.keyCode?(o.setHeader(e.data.editor,4),e.preventDefault(),e.stopPropagation(),!1):(e.ctrlKey||e.metaKey)&&53===e.keyCode?(o.setHeader(e.data.editor,5),e.preventDefault(),e.stopPropagation(),!1):void 0},quit:function(e,t){if(27==e.keyCode)return $("#myModal").css("display","none"),$("#myModal").remove(),e.data.editor.focus(),e.preventDefault(),!1}}},function(e,t,n){"use strict";e.exports={tooltipen:{undo:"undo",redo:"redo",bold:"bold",italic:"italic",linethrough:"line-through",blockquote:"block-quote",uppercase:"uppercase",capitalize:"capitalize",lowercase:"lowercase",h1:"header-1",h2:"header-2",h3:"header-3",h4:"header-4",h5:"header-5",orderedlist:"ordered-list",unorderedlist:"unordred-list",divider:"divider",toc:"toc",export:"export",search:"search",link:"link",image:"image",inlinecode:"inline-code",codeblock:"code-block",table:"table",timestamp:"timestamp",emoji:"emoji",gotoline:"goto-line",mdmode:"md-mode",premode:"pre-mode",empty:"empty",ocr:"OCR",exporttomd:"export-to-md",exporttopdf:"export-to-pdf",exporttohtml:"export-to-html",liveserver:"live-server",howto:"how-to",about:"about",load:"load",imglink:"img-link"}}},function(e,t,n){"use strict";n(21),n(16),n(14),n(12),n(10),n(8),n(6);var o=n(1),a=n(2),i=n(0);$(function(){var e=CodeMirror.fromTextArea($(".codemirror-textarea")[0],{lineNumbers:!0,lineWrapping:!0,tabSize:2,styleActiveLine:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Alt-F":"find","Alt-G":"jumpToLine","Alt-D":"replace","Shift-Alt-D":"replaceAll"},placeholder:'Enjoy Markdown!\n"They say your attitude determines your latitude. -Kanye West"',theme:"xq-light",mode:{name:"gfm",taskLists:!0,tokenTypeOverrides:{emoji:"emoji"}}}),t=null;function n(){$("#myModal").css("display","none"),$("#myModal").remove(),e.focus()}function l(e,t){var n=new Blob([e],{type:"text/plain"});if(window.saveAs)window.saveAs(n,t);else if(navigator.saveBlob)navigator.saveBlob(n,t);else{var o=URL.createObjectURL(n),a=document.createElement("a");a.setAttribute("href",o),a.setAttribute("download",t);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}}o.addTooltip(),e.focus(),e.on("change",function(){$("#preview-container").html(marked(e.getValue())),$("pre code").each(function(e,t){hljs.highlightBlock(t)})}),e.on("blur",function(){$(".CodeMirror-cursors").css("visibility","visible")}),$("div.switch").on("click","a:not(.on)",function(){$("div.switch a.on").removeClass("on"),$(this).addClass("on"),"on"===$(this).attr("id")?o.addTooltip():"off"===$(this).attr("id")&&o.removeTooltip();e.focus()}),$("#md-file").on("change",function(){var t=new FileReader,n=document.getElementById("md-file").files[0];t.readAsText(n),t.onload=function(){e.setValue(this.result)}}),$("body").on("click","span.close:first",n).on("click","a.cancel",n).on("mousedown","div.modal-head",function(e){var t=!0,n=e.pageX-$("div.modal").offset().left,o=e.pageY-$("div.modal").offset().top;$(document).mousemove(function(e){t&&$("div.modal").css({left:e.pageX-n,top:e.pageY-o,cursor:"move"})}).mouseup(function(){t=!1,$("div.modal").css({cursor:"default"})})}).on("click","div#codeblock-footer a.enter",function(){var o=$("div#codeblock-selectbar select").find("option:selected").attr("value");i.setValue(o,t,e),n()}).on("change","div#codeblock-selectbar select",function(){console.log($("div#codeblock-selectbar select").find("option:selected").attr("mode")),t.setOption("mode",$("div#codeblock-selectbar select").find("option:selected").attr("mode")),t.focus()}).on("click","div#table-footer a.enter",function(){var t=$("div#table-cnt input:eq(0)").val(),o=$("div#table-cnt input:eq(1)").val();t>=2&&o>=1&&i.setTableValue(parseInt(t),parseInt(o),e);n()}).on("click","div.export-to-md",function(){l(e.getValue(),"untitled.md"),n()}).on("click","div.export-to-html",function(){l($("div#preview-container").html(),"untitled.html"),n()}).on("click","div.export-to-pdf",function(){html2pdf().from($("div#preview-container").html()).set({margin:1,filename:"untitled.pdf","fit-to-width":!0,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,letterRendering:!1,useCORS:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}}).save(),n()}).on("click","a.remove-btn",function(){$("input#file").val(""),$("div.info p.status").text("HERE IS YOUR IMGAE!"),$("img.file-img").attr("src",""),$("img.file-img").css("display","none"),$("p.img-link").html(""),$("p.file-info").html("")}).on("click","p.img-link",function(){var e=$("<input>");$("body").append(e),e.val($(this).text()).select(),document.execCommand("copy"),notie.alert({type:"success",text:":D Copy Markdown:   "+e.val(),time:2}),e.remove()}).on("change","input#file",function(){var e=document.getElementById("file").files[0],t=(e.name,new FileReader);t.readAsDataURL(e),t.onload=function(){$("img.file-img").css("display","block"),$("img.file-img").attr("src",t.result),$("div.info p.status").text("")}}).on("click","a.upload-btn",function(){$("input#file").val()||notie.alert({type:"success",text:":( Please choose your <b>img<b> !",time:2});if($("input#file").val()){var e=document.getElementById("file").files[0],t=new FormData;t.append("smfile",e),$.ajax({url:"https://sm.ms/api/upload",data:t,type:"POST",processData:!1,contentType:!1,beforeSend:function(e){$("p.status").text("Uploading...")},success:function(e){$("div.info p.status").text(""),$("p.img-link").html("!["+e.data.filename+"]("+e.data.url+")"),$("p.file-info").html("\n                            <span>Name: "+e.data.filename+"</span><br> \n                            <span>Store Name: "+e.data.storename+"</span><br> \n                            <span>File Size: "+e.data.size+"</span><br>\n                            <span>Image Size: "+e.data.width+" x "+e.data.height+"</span><br>\n                            <span>Hash: "+e.data.hash+"</span><br>\n                            <span>Url: "+e.data.url+"</span>\n                        "),console.log(e.data.url)},error:function(e){$("div.info p.status").text("Error!"),notie.alert({type:"success",text:"Error!",time:2})}}).fail(function(){console.log("Fail!")}).always(function(){console.log("Done!")})}}).on("click","div.smms",function(){window.open("https://sm.ms/")}).on("click","a.ocr-remove-btn",function(){$("input#file").val(""),$("div.info p.status").text("HERE IS YOUR IMGAE!"),$("img.file-img").attr("src",""),$("img.file-img").css("display","none"),$("p.ocr-info").html("")}).on("click","p.ocr-info",function(){var e=$("<input>");$("body").append(e),e.val($(this).text()).select(),document.execCommand("copy"),notie.alert({type:"success",text:":D Done!",time:2}),e.remove()}).on("click","div.baidu-ocr",function(){window.open("https://cloud.baidu.com/product/ocr")}).on("click","a.ocr-btn",function(){$("input#file").val()||notie.alert({type:"success",text:":( Please choose your <b>img<b> !",time:2});if($("input#file").val()){var e=document.getElementById("file").files[0],t=new FileReader;t.readAsDataURL(e),$("div.info p.status").text("Uploading..."),t.onload=function(e){var n=new RegExp("data.*?base64,"),o=t.result,a=o.replace(o.match(n)[0],"");$.ajax({url:"http://localhost:8080",type:"POST",dataType:"json",data:{img:a},success:function(e){if($("div.info p.status").text(""),0===e.length)$("p.ocr-info").html("Sorry...");else if(e.length>0){var t="",n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var d=i.value;t+='<p class="ocr-info-line">'+d.words+"</p>"}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}$("p.ocr-info").html(t)}console.log(e)},error:function(e,t,n){console.log("text status "+t+", err "+n)}})}}}),$(document).on("keydown",a.saveFile).on("keydown",a.loadFile).on("keydown",a.setTable).on("keydown",{editor:e},a.mdMode).on("keydown",{editor:e},a.preMode).on("keydown",{editor:e},a.quit).on("keydown",{editor:e},a.insertHeading).on("keydown",{editor:e},a.setBold).on("keydown",{editor:e},a.setItalicAndImage).on("keydown",{editor:e},a.setLinkAndSelect),$("div.draft-toolbar").on("click","li",function(){for(var o,a=$(this).attr("id");$("div.modal").length;)n();switch(a){case"undo":i.undo(e);break;case"redo":i.redo(e);break;case"bold":i.setBold(e);break;case"italic":i.setItalic(e);break;case"linethrough":i.setLineThrough(e);break;case"blockquote":i.setBlockQuote(e);break;case"uppercase":i.setUppercase(e);break;case"capitalize":i.setCapitalize(e);break;case"lowercase":i.setLowercase(e);break;case"h1":i.setHeader(e,1);break;case"h2":i.setHeader(e,2);break;case"h3":i.setHeader(e,3);break;case"h4":i.setHeader(e,4);break;case"h5":i.setHeader(e,5);break;case"orderedlist":i.setOrderedList(e);break;case"unorderedlist":i.setUnorderedList(e);break;case"inlinecode":i.setInlineCode(e);break;case"divider":i.setDivider(e);break;case"link":i.setLink(e);break;case"image":i.setImage(e);break;case"timestamp":i.setTimestamp(e);break;case"table":i.setTable();break;case"howto":i.setHowto();break;case"load":i.setLoad();break;case"about":i.setAbout();break;case"emoji":i.setEmoji();break;case"search":i.setSearch(e);break;case"gotoline":i.setGoToLine(e);break;case"codeblock":i.setCodeBlock(),(t=CodeMirror.fromTextArea(document.getElementById("codeblock-textarea"),{lineNumbers:!0,lineWrapping:!0,tabSize:2,styleActiveLine:!0,foldGutter:!0,autoCloseTags:!0,autoCloseBrackets:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:"",placeholder:"Coding now..."})).focus();break;case"export":i.setExport();break;case"ocr":i.setOCR();break;case"imglink":i.setImglink();break;case"toc":i.setTOC(e),o=e.getValue(),$.ajax({url:"http://localhost:8080",type:"POST",dataType:"json",data:{md:o},success:function(t){e.getCursor(),e.setCursor({line:0,ch:0}),e.replaceSelection("\x3c!-- /TOC --\x3e\n\n"+t.TOC+"\n\n\x3c!-- /TOC --\x3e\n\n"),console.log(t)},error:function(e,t,n){console.log("text status "+t+", err "+n)}});break;case"mdmode":i.setMdMode(),e.focus();break;case"premode":i.setPreMode(),e.focus();break;case"empty":notie.confirm({text:"Are you sure you want to do that?<br><b>BE CAREFUL!</b>",submitText:"Empty",cancelCallback:function(){notie.alert({type:"success",text:"Don’t go, don’t go baby!",time:2}),e.focus()},submitCallback:function(){notie.alert({type:1,text:"Done! :D",time:2}),i.setEmpty(e),e.focus()}})}})})},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,function(e,t){}]);